<!DOCTYPE html>
<html>
<head>
    <title>RubiksCube</title>
        
    <script id="vertex-shader" type="x-shader/x-vertex">
        attribute   vec4 positionVertex;
        attribute   vec3 normalVertex;
        varying     vec4 colorVertex;

        uniform     vec4 ambientProduct, diffuseProduct, specularProduct;
        uniform     mat4 transformation;
        uniform     mat4 projection;
        uniform     vec4 lightPosition;
        uniform     float shininess;
        void main()
        {
            vec3 pos = -(transformation * positionVertex).xyz;
            vec3 light = lightPosition.xyz;
            vec3 L = normalize( light - pos );
            
            
            vec3 E = normalize( -pos );
            vec3 H = normalize( L + E );
            
            vec4 NN = vec4(normalVertex,0);
               
            vec3 N = normalize( (transformation*NN).xyz);

            vec4 ambient = ambientProduct;

            float Kd = max( dot(L, N), 0.0 );
            vec4  diffuse = Kd*diffuseProduct;

            float Ks = pow( max(dot(N, H), 0.0), shininess );
            vec4  specular = Ks * specularProduct;
            
            if( dot(L, N) < 0.0 ) {
                specular = vec4(0.0, 0.0, 0.0, 1.0);
            } 
            
            gl_Position = projection * transformation * positionVertex;
            colorVertex = ambient + diffuse + specular;
            
            colorVertex.a = 1.0;
        }
    </script>
    <script id="fragment-shader" type="x-shader/x-fragment">
        #ifdef GL_ES
        precision highp float;
        #endif

        varying vec4 colorVertex;

        void
        main()
        {
            gl_FragColor = colorVertex;
        }
    </script>
    <script type="text/javascript" src="js/init.js"></script>
    <script type="text/javascript" src="webgl-utils/Light.js"></script>
    <script type="text/javascript" src="webgl-utils/Material.js"></script>
    <script type="text/javascript" src="webgl-utils/Camera.js"></script>
    <script type="text/javascript" src="vendor/js/webgl-utils.js"></script>
    <script type="text/javascript" src="vendor/js/initShaders.js"></script>
    <script type="text/javascript" src="vendor/js/mv.js"></script>
    <script type="text/javascript" src="webgl-utils/shapes/Shape.js"></script>
    <script type="text/javascript" src="webgl-utils/shapes/3d/SolidCuboid.js"></script>   
    <script type="text/javascript" src="webgl-utils/shapes/3d/SolidCube.js"></script>
    <script type="text/javascript" src="js/RubiksCube.js"></script>
    <script type="text/javascript" src="js/Face.js"></script>
    <script type="text/javascript" src="js/Cubie.js"></script>
</head>
<body style="background-color:black;text-align:center">

    <canvas id="cubeCanvas" width="512" height="512" style="background: blue">Sorry, your browser does not support WebGL.</canvas>

</body>
</html>
